<div ng-controller="ConversationCtrl as vm">
	<div class="section-container">
		<div class="section-header">
			<div class="section-title-wrapper">
				<div class="section-title">Conversation</div>
				<div class="subsection-title">
					<div>
						Subject : <span ng-bind-html="vm.getConvoTitle()"></span><i class="fas fa-pencil-alt edit-text-icon"></i>
					</div>
				</div>
			</div>
			<div class="navigation-wrapper">
				<button class="navigation-icon" title="Reply">
					<i class="fas fa-reply-all"></i><label>Reply</label>
				</button>
				<button ng-click="vm.leaveConvo()" class="navigation-icon" title="Leave Conversation">
					<i class="fas fa-sign-out-alt"></i><label>Leave Conversation</label>
				</button>
				<button class="navigation-icon" title="Close">
					<i class="fas fa-times-circle"></i><label>Close</label>
				</button>
			</div>
		</div>
		
		<div class="section-body">
			<div class="row conversation-wrapper">
				<div class="conversation col-xs-12">
					<div class="message-wrapper" ng-repeat="($index, convo) in vm.conversation.messages">
						<div class="message-content">
							<div class="message-subject col-xs-12">
								<span class="pull-left"><i class="fas fa-minus-square"></i></span>
								<span class="pull-left"><h5>On: {{convo.sentDtAsString}}</h5></span>
								<span class="pull-right">
									<i class="fas fa-quote-right"></i>
									<i class="fas fa-bullhorn"></i>
								</span>
							</div>
							<div class="message-body col-xs-12">
								<div class="message-from col-xs-2">
									<user-details user-id="{{convo.senderId}}"></user-details>
								</div>
								<div class="message-message col-xs-10">
									<div ng-bind-html="convo.message"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>